<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.18/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />
  <link rel="stylesheet" href="{{url_for('static', filename='NovoEvento.css')}}" />
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='imagens/icon_calendário.png') }}">
</head>

<body>
  <div class="divCabecalho">
    <a href="https://www.eniac.edu.br/">
      <img src="{{ url_for('static', filename='imagens/path32.png') }}" alt="Logo Eniac" id="eniac" />
    </a>
  </div>

  <br>

  <h2 style="text-align: center;">Bem-vindo, {{ usuario_nome}}!</h2>

  <br>

  <div class="container-flex">
    <div class="formulario ms-5">
      <div class="box">
        <form id="formEvento" enctype="multipart/form-data">
          <fieldset>

            <legend><b>Cadastrar novo Evento</b></legend>
            <label for="NomeEvento">Nome do Evento</label>
            <input type="text" id="NomeEvento" name="nomeEvento" required />

            <label for="DataEvento">Data Inicial:</label>
            <input type="date" id="DataEvento" name="dataInicial" required />

            <label for="DataEvento2">Data Final:</label>
            <input type="date" id="DataEvento2" name="dataFinal" required />

            <label for="Descricao">Descrição:</label>
            <textarea id="Descricao" name="descricao" rows="2"></textarea>

            <label for="email">Email do Participante:</label>
            <textarea id="email" name="email" rows="2"></textarea>

            <label for="CorEvento">Cor do Evento:</label>
            <input type="color" id="CorEvento" name="eventColor" value="#3788d8" />
            
            <label>Visível para:</label>
            <div class="checkbox-horizontal-group">
              <div>
                <input type="checkbox" name="evento_tipo" value="aluno" id="tipo_aluno">
                <label for="tipo_aluno">Aluno</label>
              </div>
              <div>
                <input type="checkbox" name="evento_tipo" value="externo" id="tipo_externo">
                <label for="tipo_externo">Externo</label>
              </div>
              <div>
                <input type="checkbox" name="evento_tipo" value="admin" id="tipo_admin">
                <label for="tipo_admin">Admin</label>
              </div>
            </div>

            <label for="ImagemEvento">Repetir todo ano na mesma semana:</label>

            <input class="form-check-input" type="checkbox" id="repetir_anualmente" name="repetir_anualmente" value="1">
            <label class="form-check-label" for="repetir_anualmente">
              Escolher uma imagem para o evento:
            </label>
            <input type="file" id="ImagemEvento" name="imagem" accept="image/*" />
            <input type="submit" value="Cadastrar Evento" id="cadastrarEvento" style= />
            <button id="voltar">
              <a href="http://localhost:5000/calendario">Ir para calendário</a>
            </button> <br>
            <button type="button" class="btn-custom btn-google"
              onclick="window.location.href='{{ url_for('google_login') }}'">
              <i class="bi bi-google"></i> Importar do Google Agenda
            </button>
          </fieldset>
        </form>
      </div>
    </div>

    <div id="calendar"></div>

    <div class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
          </div>
          <div class="modal-body">
            <p></p>
            <p id="modal-usuario" class="mt-2"></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-danger" onclick="FuncaoDeletar()">
              Deletar Evento
            </button>
            <button type="button" class="btn btn-warning" onclick="FuncaoAtualizar()">
              Atualizar Evento
            </button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
              Fechar
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalEditarEvento" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <form id="formEditarEvento">
            <div class="modal-header">
              <h5 class="modal-title"><strong>Editar Evento</strong></h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
            </div>
            <div class="modal-body">
              <label for="editNomeEvento"><strong>Nome:</strong></label>
              <input type="text" id="editNomeEvento" class="form-control" required />

              <label for="editDataInicial"><strong>Data Inicial:</strong></label>
              <input type="date" id="editDataInicial" class="form-control" required />

              <label for="editDataFinal"><strong>Data Final:</strong></label>
              <input type="date" id="editDataFinal" class="form-control" required />

              <label for="editCorEvento"><strong>Cor:</strong></label>
              <input type="color" id="editCorEvento" class="form-control" />

              <label for="editDescricao"><strong>Descrição:</strong></label>
              <textarea id="editDescricao" class="form-control" rows="2"></textarea>
              
              <label>Visível para:</label>
              <div class="checkbox-horizontal-group">
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="aluno" id="tipo_aluno">
                  <label for="tipo_aluno">Aluno</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="externo" id="tipo_externo">
                  <label for="tipo_externo">Externo</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="admin" id="tipo_admin">
                  <label for="tipo_admin">Admin</label>
                </div>
              </div>
              
              <label><strong>Visível para:</strong></label>
              <div class="checkbox-horizontal-group">
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="aluno" id="edit_tipo_aluno">
                  <label for="edit_tipo_aluno">Aluno</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="externo" id="edit_tipo_externo">
                  <label for="edit_tipo_externo">Externo</label>
                </div>
                <div class="checkbox-item">
                  <input type="checkbox" name="evento_tipo" value="admin" id="edit_tipo_admin">
                  <label for="edit_tipo_admin">Admin</label>
                </div>
              </div>

              <label for="editImagemEvento"><strong>Imagem do Evento:</strong></label>
              <input type="file" id="editImagemEvento" class="form-control" name="imagem" accept="image/*" />
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-success">
                Salvar Alterações
              </button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                Cancelar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <br /><br /><br />
  <div class="box2 text-center mb-5">
    <h2 class="mb-4">Pesquisar Evento</h2>
    <input type="text" id="pesquisa" class="mb-4" placeholder="Pesquisar Evento" />
    <button id="btnPesquisar" onclick="FuncaoPesquisa()" class="btn btn-primary">
      Pesquisar
    </button>
    <table id="tabelaEventos" class="table text-light mt-4">
      <thead>
        <tr>
          <th>Id</th>
          <th>Nome</th>
          <th>Data Inicial</th>
          <th>Data Final</th>
          <th>Cor</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tbodyEventos"></tbody>
    </table>
  </div>

  <script src="{{url_for('static', filename='NovoEvento.js')}}"></script>
</body>

</html>